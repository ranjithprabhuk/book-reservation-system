<section>
  <div class="container-fluid">
    <div class="row">
      <div class="d-flex align-items-center col-md-6 col-lg-6 text-black">
        <div class="w-100 px-5" *ngIf="bookForm && f">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">
                <a routerLink="/app/book">Book</a>
              </li>
              <li class="breadcrumb-item active" aria-current="page">
                {{ isNew ? "Add Book" : "Book Details" }}
              </li>
            </ol>
          </nav>
          <div></div>
          <form
            style="width: 100%"
            [formGroup]="bookForm"
            (ngSubmit)="onSubmit()"
          >
            <div class="form-outline mb-4">
              <label class="form-label" for="name">Book Name</label>
              <input
                id="name"
                type="text"
                formControlName="name"
                class="form-control form-control-lg"
                [ngClass]="{ 'is-invalid': submitted && f['name'].errors }"
              />
              <div
                *ngIf="submitted && f['name'].errors"
                class="invalid-feedback"
              >
                <div *ngIf="f['name'].errors['required']">
                  Book Name is required
                </div>
              </div>
            </div>

            <div class="form-outline mb-4">
              <label class="form-label" for="author">Book Author</label>
              <input
                id="author"
                type="text"
                formControlName="author"
                class="form-control form-control-lg"
                [ngClass]="{ 'is-invalid': submitted && f['author'].errors }"
              />
              <div
                *ngIf="submitted && f['author'].errors"
                class="invalid-feedback"
              >
                <div *ngIf="f['author'].errors['required']">
                  Author Name is required
                </div>
              </div>
            </div>

            <div class="form-outline mb-4">
              <label class="form-label" for="description">Description</label>
              <textarea
                id="description"
                type="text"
                formControlName="description"
                class="form-control form-control-lg"
                [ngClass]="{
                  'is-invalid': submitted && f['description'].errors
                }"
              ></textarea>
              <div
                *ngIf="submitted && f['description'].errors"
                class="invalid-feedback"
              >
                <div *ngIf="f['description'].errors['required']">
                  Description is required
                </div>
              </div>
            </div>

            <div class="form-outline mb-4">
              <label class="form-label" for="ISBN">ISBN Number</label>
              <input
                id="ISBN"
                type="text"
                formControlName="ISBN"
                class="form-control form-control-lg"
                [ngClass]="{ 'is-invalid': submitted && f['ISBN'].errors }"
              />
              <div
                *ngIf="submitted && f['ISBN'].errors"
                class="invalid-feedback"
              >
                <div *ngIf="f['ISBN'].errors['required']">
                  ISBN Number is required
                </div>
              </div>
            </div>

            <div class="pt-1 mb-4">
              <div class="d-flex justify-content-between align-items-end">
                <div class="d-flex align-items-center" *ngIf="isAdmin">
                  <button
                    class="btn btn-primary btn-lg btn-block"
                    type="submit"
                    [disabled]="isApiCallInProgress"
                  >
                    {{ isNew ? "Add Book" : "Update Book" }}
                  </button>
                  <div style="padding-left: 10px" *ngIf="isApiCallInProgress">
                    <div class="spinner-border text-primary" role="status">
                      <span class="sr-only"></span>
                    </div>
                  </div>
                </div>
                <div>
                  <a routerLink="/app/book/new"> Add Book </a>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>
